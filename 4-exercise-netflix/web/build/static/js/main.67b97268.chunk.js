(this["webpackJsonpmodulo-3-repaso-final"]=this["webpackJsonpmodulo-3-repaso-final"]||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(15),i=s.n(n),c=s(8),r=s(3),l=s(2),o=s(0),d=function(e){return Object(o.jsxs)("header",{className:"col2 border--medium",children:[Object(o.jsx)(c.b,{className:"nav__link",to:"/",children:Object(o.jsx)("h1",{className:"title--big",children:"Netflix"})}),Object(o.jsx)("nav",{className:"text-align-right",children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(c.b,{className:"nav__link",to:"/",children:"Inicio"})}),function(){if(!1===e.isUserLogged)return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(c.b,{className:"nav__link",to:"/login",children:"Login"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(c.b,{className:"nav__link",to:"/signup",children:"Registro"})})]})}(),function(){if(!0===e.isUserLogged)return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(c.b,{className:"nav__link",to:"/profile",children:"Mi perfil"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(c.b,{className:"nav__link",to:"/my-movies",children:"Mis pel\xedculas"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)("span",{className:"nav__link",onClick:e.logout,children:"Cerrar sesi\xf3n"})})]})}()]})})]})},j=function(e){var t=function(){return e.movies.map((function(e){return Object(o.jsxs)("li",{className:"card",children:[Object(o.jsx)("img",{className:"card__img",src:e.image,alt:"Car\xe1tula de ".concat(e.title)}),Object(o.jsx)("h3",{className:"card__title",children:e.title}),Object(o.jsxs)("p",{className:"card__description",children:["G\xe9nero: ",e.gender]})]},e.id)}))};return e.movies.length?Object(o.jsx)("ul",{className:"cards",children:t()}):Object(o.jsx)("p",{children:"No hay pel\xedculas en este listado"})},m=(s(30),function(e){var t=function(t){e.handleAllMoviesOptions({value:t.target.value,key:t.target.name})};return Object(o.jsxs)("section",{className:"border--medium",children:[Object(o.jsx)("h1",{className:"title--medium",children:"Estas son todas nuestras pel\xedculas"}),Object(o.jsxs)("form",{className:"movies__filters",children:[Object(o.jsxs)("div",{className:"movies__filters--gender",children:[Object(o.jsx)("label",{htmlFor:"filterGender",children:"Filtrar por g\xe9nero"}),Object(o.jsxs)("select",{className:"form__input-text",id:"filterGender",name:"gender",value:e.allMoviesOptionGender,onChange:t,children:[Object(o.jsx)("option",{value:"",children:"Todas"}),Object(o.jsx)("option",{value:"Drama",children:"Drama"}),Object(o.jsx)("option",{value:"Comedia",children:"Comedia"})]})]}),Object(o.jsxs)("div",{className:"movies__filters--sort",children:[Object(o.jsxs)("label",{children:["Ordernar: Ascendente",Object(o.jsx)("input",{className:"movies__radio",type:"radio",name:"sort",value:"asc",checked:"asc"===e.allMoviesOptionSort,onChange:t})]}),Object(o.jsxs)("label",{children:["Descendente",Object(o.jsx)("input",{className:"movies__radio",type:"radio",name:"sort",value:"desc",checked:"desc"===e.allMoviesOptionSort,onChange:t})]})]})]}),Object(o.jsx)(j,{movies:e.movies})]})}),u=function(e){return Object(o.jsxs)("section",{className:"border--medium",children:[Object(o.jsx)("h1",{className:"title--medium",children:"Estas son todas tus pel\xedculas"}),Object(o.jsx)(j,{movies:e.movies})]})},b=function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],i=s[1],c=Object(a.useState)(""),l=Object(r.a)(c,2),d=l[0],j=l[1];return Object(o.jsxs)("section",{className:"border--medium",children:[Object(o.jsx)("h1",{children:"Identif\xedcate"}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.sendLoginToApi({email:n,password:d})},children:[Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"email",children:"Escribe tu email"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"email",id:"email",value:n,onChange:function(e){i(e.target.value)}}),Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"password",children:"Escribe tu contrase\xf1a"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"password",id:"password",value:d,onChange:function(e){j(e.target.value)}}),Object(o.jsx)("input",{className:"form__btn display-block",type:"submit",value:"Entrar"}),function(){if(""!==e.loginErrorMessage)return Object(o.jsxs)("p",{className:"border--medium border--warning mt-1",children:["Error en el login: ",Object(o.jsx)("span",{className:"text--bold",children:e.loginErrorMessage})]})}()]})]})},p=function(e){var t=Object(a.useState)(e.userName||""),s=Object(r.a)(t,2),n=s[0],i=s[1],c=Object(a.useState)(e.userEmail||""),l=Object(r.a)(c,2),d=l[0],j=l[1],m=Object(a.useState)(e.userEmail||""),u=Object(r.a)(m,2),b=u[0],p=u[1];return Object(o.jsxs)("section",{className:"border--medium",children:[Object(o.jsx)("h1",{children:"Mi perfil"}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.sendProfileToApi({name:n,email:d,password:b})},children:[Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"name",children:"Mi nombre"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"name",id:"name",value:n,onChange:function(e){i(e.target.value)}}),Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"email",children:"Mi email"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"email",id:"email",value:d,onChange:function(e){j(e.target.value)}}),Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"password",children:"Mi contrase\xf1a"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"password",id:"password",value:b,onChange:function(e){p(e.target.value)}}),Object(o.jsx)("input",{className:"form__btn display-block",type:"submit",value:"Guardar"})]})]})},h=function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],i=s[1],c=Object(a.useState)(""),l=Object(r.a)(c,2),d=l[0],j=l[1];return Object(o.jsxs)("section",{className:"border--medium",children:[Object(o.jsx)("h1",{children:"Reg\xedstrate"}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.sendSingUpToApi({email:n,password:d})},children:[Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"email",children:"Escribe tu email"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"email",id:"email",value:n,onChange:function(e){i(e.target.value)}}),Object(o.jsx)("label",{className:"form__label display-block",htmlFor:"password",children:"Escribe tu contrase\xf1a"}),Object(o.jsx)("input",{className:"form__input-text",type:"text",name:"password",id:"password",value:d,onChange:function(e){j(e.target.value)}}),Object(o.jsx)("input",{className:"form__btn display-block",type:"submit",value:"Registrar"}),function(){if(""!==e.signUpErrorMessage)return Object(o.jsxs)("p",{className:"border--medium border--warning mt-1",children:["Error en el registro: ",Object(o.jsx)("span",{className:"text--bold",children:e.signUpErrorMessage})]})}()]})]})},O={getMoviesFromApi:function(e){return console.log("Se est\xe1n las pel\xedculas de la app"),fetch("//localhost:4000/movies?sort=".concat(e.sort,"&gender=").concat(e.gender)).then((function(e){return e.json()})).then((function(){return{success:!0,movies:[{id:"1",title:"Gambita de dama",gender:"Drama",image:"https://via.placeholder.com/150"},{id:"2",title:"Friends",gender:"Comedia",image:"https://via.placeholder.com/150"}]}}))}},f={sendLoginToApi:function(e){return console.log("Se est\xe1n enviando datos al login:",e),fetch("//beta.adalab.es/ejercicios-extra/api/fake/empty.json").then((function(e){return e.json()})).then((function(){return e.email.includes("gmail")?{success:!0,userId:"123"}:{success:!1,errorMessage:"Usuario no encontrado"}}))},sendSingUpToApi:function(e){return console.log("Se est\xe1n enviando datos al signup:",e),fetch("//beta.adalab.es/ejercicios-extra/api/fake/empty.json").then((function(e){return e.json()})).then((function(){return{success:!1,errorMessage:"Usuario ya existente"}}))},sendProfileToApi:function(e){return console.log("Se est\xe1n enviando datos al profile:",e),fetch("//beta.adalab.es/ejercicios-extra/api/fake/empty.json")},getProfileFromApi:function(e){return console.log("Se est\xe1n pidiendo datos del profile del usuario:",e),fetch("//beta.adalab.es/ejercicios-extra/api/fake/empty.json").then((function(e){return e.json()})).then((function(){return{success:!0,name:"Maricarmen",email:"mari@mail.com",password:"1234567"}}))},getUserMoviesFromApi:function(e){return console.log("Se est\xe1n pidiendo datos de las pel\xedculas de la usuaria:",e),fetch("//beta.adalab.es/ejercicios-extra/api/fake/empty.json").then((function(e){return e.json()})).then((function(){return{success:!0,movies:[{id:1,title:"Gambita de dama",gender:"Drama",image:"https://via.placeholder.com/150"}]}}))}},x={redirect:function(e){window.location.replace("#".concat(e))},reload:function(e){window.location.reload()}},g=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),s=t[0],n=t[1],i=Object(a.useState)(""),c=Object(r.a)(i,2),j=c[0],g=c[1],v=Object(a.useState)(""),_=Object(r.a)(v,2),N=_[0],y=_[1],S=Object(a.useState)(""),k=Object(r.a)(S,2),M=k[0],w=k[1],A=Object(a.useState)([]),E=Object(r.a)(A,2),F=E[0],C=E[1],U=Object(a.useState)(""),T=Object(r.a)(U,2),D=T[0],G=T[1],L=Object(a.useState)(""),P=Object(r.a)(L,2),I=P[0],R=P[1],J=Object(a.useState)([]),q=Object(r.a)(J,2),z=q[0],B=q[1],H=Object(a.useState)(""),K=Object(r.a)(H,2),Q=K[0],V=K[1],W=Object(a.useState)("asc"),X=Object(r.a)(W,2),Y=X[0],Z=X[1];Object(a.useEffect)((function(){var e={gender:Q,sort:Y};O.getMoviesFromApi(e).then((function(e){B(e.movies)}))}),[Q,Y]),Object(a.useEffect)((function(){""!==s&&(f.getProfileFromApi(s).then((function(e){g(e.name),y(e.email),w(e.password)})),f.getUserMoviesFromApi(s).then((function(e){C(e.movies)})))}),[s]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(d,{isUserLogged:!!s,logout:function(){x.redirect("/"),x.reload()}}),Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",children:Object(o.jsx)(m,{movies:z,allMoviesOptionGender:Q,allMoviesOptionSort:Y,handleAllMoviesOptions:function(e){"gender"===e.key?V(e.value):"sort"===e.key&&Z(e.value)}})}),Object(o.jsx)(l.a,{path:"/my-movies",children:Object(o.jsx)(u,{movies:F})}),Object(o.jsx)(l.a,{path:"/login",children:Object(o.jsx)(b,{loginErrorMessage:D,sendLoginToApi:function(e){f.sendLoginToApi(e).then((function(e){!0===e.success?(n(e.userId),G(""),x.redirect("/")):G(e.errorMessage)}))}})}),Object(o.jsx)(l.a,{path:"/signup",children:Object(o.jsx)(h,{signUpErrorMessage:I,sendSingUpToApi:function(e){f.sendSingUpToApi(e).then((function(e){!0===e.success?(n(e.userId),R(""),x.redirect("/")):R(e.errorMessage)}))}})}),Object(o.jsx)(l.a,{path:"/profile",children:Object(o.jsx)(p,{userName:j,userEmail:N,userPassword:M,sendProfileToApi:function(e){f.sendProfileToApi(e)}})})]})]})};s(31);i.a.render(Object(o.jsx)(c.a,{children:Object(o.jsx)(g,{})}),document.querySelector("#root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.67b97268.chunk.js.map