(this["webpackJsonpmodulo-3-repaso-final"]=this["webpackJsonpmodulo-3-repaso-final"]||[]).push([[0],{33:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(18),i=r.n(c),s=r(7),a=r(17),l=r(11),u=r(2),j=r(0),o=function(e){return Object(j.jsx)(s.b,{to:"/user/".concat(e.user.id),children:Object(j.jsxs)("article",{className:"card",children:[Object(j.jsx)("img",{className:"card__img",src:e.user.image,alt:"Foto de ".concat(e.user.name),title:"Foto de ".concat(e.user.name)}),Object(j.jsx)("h4",{className:"card__title",children:e.user.name}),Object(j.jsxs)("p",{className:"card__description",children:[e.user.city," / ","female"===e.user.gender?"Mujer":"male"===e.user.gender?"Hombre":"No binario"]})]})})},d=function(e){var t=e.users.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(o,{user:e})},e.id)}));return Object(j.jsx)("section",{children:Object(j.jsx)("ul",{className:"cards",children:t})})},b=function(e){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)(s.b,{to:"/",children:"Volver al inicio"}),Object(j.jsx)("header",{children:Object(j.jsx)("h2",{children:e.user.name})}),Object(j.jsxs)("section",{children:[Object(j.jsx)("img",{className:"card__img",src:e.user.image,alt:e.user.name}),Object(j.jsx)("h4",{className:"card__title",children:e.user.name}),Object(j.jsxs)("ul",{className:"ml-1 mt-1",children:[Object(j.jsxs)("li",{children:["G\xe9nero: ",e.user.gender]}),Object(j.jsxs)("li",{children:["Email: ",e.user.email]}),Object(j.jsxs)("li",{children:["Nick: ",e.user.username]}),Object(j.jsxs)("li",{children:["Ciudad: ",e.user.city]}),Object(j.jsxs)("li",{children:["Pa\xeds: ",e.user.country]})]})]})]})},m=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"form__label display-block",htmlFor:"name",children:"Filtrar por nombre:"}),Object(j.jsx)("input",{className:"form__input-text",type:"text",name:"name",id:"name",value:e.filterName,onChange:function(t){e.handleFilter({value:t.target.value,key:"name"})}})]})},f=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"form__label display-block",htmlFor:"gender",children:"G\xe9nero:"}),Object(j.jsxs)("select",{className:"form__input-text",name:"gender",id:"gender",value:e.filterGender,onChange:function(t){e.handleFilter({value:t.target.value,key:"gender"})},children:[Object(j.jsx)("option",{value:"",children:"Todos"}),Object(j.jsx)("option",{value:"female",children:"Mujer"}),Object(j.jsx)("option",{value:"male",children:"Hombre"}),Object(j.jsx)("option",{value:"no-binary",children:"No binario"})]})]})},h=function(e){var t=function(t){e.handleFilter({value:t.target.value,key:"city"})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"form__label display-block",htmlFor:"gender",children:"Ciudad:"}),Object(j.jsx)("ul",{className:"filterCities",children:e.cities.map((function(r,n){return Object(j.jsx)("li",{children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{className:"input",type:"checkbox",name:"city",value:r,checked:e.filterCities.includes(r),onChange:t}),r]})},n)}))})]})},O=function(e){return Object(j.jsx)("section",{children:Object(j.jsxs)("form",{children:[Object(j.jsx)(m,{filterName:e.filterName,handleFilter:e.handleFilter}),Object(j.jsx)(f,{filterGender:e.filterGender,handleFilter:e.handleFilter}),Object(j.jsx)(h,{filterCities:e.filterCities,cities:e.cities,handleFilter:e.handleFilter})]})})},x=function(){return fetch("https://randomuser.me/api/?results=10").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{id:e.login.uuid,gender:e.gender,email:e.email,city:e.location.city,country:e.location.country,image:e.picture.large,name:"".concat(e.name.first," ").concat(e.name.last)}}))}))},g={get:function(e,t){var r=localStorage.getItem(e);return null===r?t:JSON.parse(r)},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},p=function(){var e=Object(n.useState)(g.get("users",[])),t=Object(l.a)(e,2),r=t[0],c=t[1],i=Object(n.useState)(g.get("filterName","")),s=Object(l.a)(i,2),o=s[0],m=s[1],f=Object(n.useState)(g.get("filterGender","")),h=Object(l.a)(f,2),p=h[0],v=h[1],N=Object(n.useState)(g.get("filterCities",[])),y=Object(l.a)(N,2),F=y[0],_=y[1];Object(n.useEffect)((function(){0===r.length&&x().then((function(e){c(e)}))}),[]),Object(n.useEffect)((function(){g.set("users",r)}),[r]),Object(n.useEffect)((function(){g.set("users",r),g.set("filterName",o),g.set("filterGender",p),g.set("filterCities",F)}),[r,o,p,F]);var k=r.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())})).filter((function(e){return""===p||e.gender===p})).filter((function(e){return 0===F.length||F.includes(e.city)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title--big",children:"Directorio de personas"}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",children:Object(j.jsxs)("div",{className:"col2",children:[Object(j.jsx)(O,{filterName:o,filterGender:p,filterCities:F,cities:function(){var e=r.map((function(e){return e.city}));return Object(a.a)(new Set(e))}(),handleFilter:function(e){if("name"===e.key)m(e.value);else if("gender"===e.key)v(e.value);else if("city"===e.key)if(F.includes(e.value)){var t=F.filter((function(t){return t!==e.value}));_(t)}else F.push(e.value),_(Object(a.a)(F))}}),Object(j.jsx)(d,{users:k})]})}),Object(j.jsx)(u.a,{path:"/user/:userId",render:function(e){var t=e.match.params.userId,n=r.find((function(e){return e.id===t}));return void 0!==n?Object(j.jsx)(b,{user:n}):Object(j.jsx)("p",{children:"Usuaria no encontrada"})}})]})]})};r(33);i.a.render(Object(j.jsx)(s.a,{children:Object(j.jsx)(p,{})}),document.querySelector("#root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.46e53f10.chunk.js.map