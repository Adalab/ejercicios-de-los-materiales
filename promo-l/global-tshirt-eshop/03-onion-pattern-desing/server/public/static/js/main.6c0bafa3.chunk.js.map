{"version":3,"sources":["components/cart/Header.js","components/components/Button.js","components/cart/Item.js","components/cart/Total.js","components/components/Title.js","components/cart/List.js","components/user/Login.js","components/user/Profile.js","components/products/Item.js","components/products/Filters.js","components/products/List.js","components/products/Detail.js","services/api.js","services/shop.js","services/localStorage.js","components/App.js","index.js"],"names":["Header","className","Button","props","cssClass","title","onClick","handleClick","text","Item","name","price","decrementCartProduct","id","units","incrementCartProduct","deleteCartProduct","Cart","colSpan","total","Title","cartProducts","map","cartProduct","Total","reduce","acc","Login","useState","email","setEmail","password","setPassword","onSubmit","ev","stopPropagation","handleLogin","htmlFor","type","value","onChange","target","loginError","Profile","handleCloseSession","Product","src","imageUrl","alt","to","Filters","preventDefault","filterText","handleFilter","Products","productsItems","shopProducts","product","Detail","description","sizes","join","apiBaseUrl","exportObj","getProducts","fetch","then","response","json","data","products","items","sendLogin","userData","method","body","JSON","stringify","headers","getCart","userId","sendCart","cartItems","cartProductId","cartProductFound","find","cartProductIndex","findIndex","splice","getProduct","shopProductId","clickedProduct","push","get","key","parse","localStorage","getItem","remove","removeItem","set","setItem","App","localStorageUser","setUserId","setLoginError","setShopProducts","setCartProducts","setFilterText","useEffect","api","console","log","error","message","clickedProductId","newCartProducts","shop","filterProducts","filter","toLowerCase","includes","renderDetail","foundProduct","match","params","productId","exact","path","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.6c0bafa3.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => {\n  return (\n    <thead>\n      <tr className=\"text--bold\">\n        <td>Producto</td>\n        <td>Precio</td>\n        <td>Unidades</td>\n        <td className=\"text-align-right\">Total</td>\n      </tr>\n    </thead>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst Button = props => {\n  const handleClick = () => {\n    props.handleClick();\n  };\n  return (\n    <button className={'card__btn ' + props.cssClass} title={props.title} onClick={handleClick}>\n      {props.text || ''}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Button from '../components/Button';\n\nconst Item = props => {\n  // events\n  const handleIncrementCartProduct = () => {\n    props.incrementCartProduct(props.id);\n  };\n\n  const handleDecrementCartProduct = () => {\n    props.decrementCartProduct(props.id);\n  };\n\n  const handleDeleteCartProduct = () => {\n    props.deleteCartProduct(props.id);\n  };\n\n  // render\n  return (\n    <tr>\n      <td>{props.name}</td>\n      <td>{props.price} €</td>\n      <td>\n        <Button\n          text=\"-\"\n          title=\"Quitar una unidad más de este producto\"\n          handleClick={handleDecrementCartProduct}\n        />\n        {props.units}\n        <Button\n          text=\"+\"\n          title=\"Añadir una unidad más de este producto\"\n          handleClick={handleIncrementCartProduct}\n        />\n        <Button\n          cssClass=\"fas fa-trash\"\n          title=\"Eliminar este producto de la cesta\"\n          handleClick={handleDeleteCartProduct}\n        />\n      </td>\n      <td className=\"text-align-right\">{props.price * props.units} €</td>\n    </tr>\n  );\n};\n\nexport default Item;\n","import React from 'react';\n\nconst Cart = props => {\n  return (\n    <tfoot>\n      <tr className=\"text--bold\">\n        <td>Total</td>\n        <td colSpan=\"3\" className=\"text-align-right\">\n          {props.total} €\n        </td>\n      </tr>\n    </tfoot>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\n\nconst Title = props => {\n  return <h2 className=\"title--medium\">{props.title}</h2>;\n};\n\nexport default Title;\n","import React from 'react';\nimport Header from './Header';\nimport Item from './Item';\nimport Total from './Total';\nimport Title from '../components/Title';\n\nconst Cart = props => {\n  const renderCartProducts = () => {\n    return props.cartProducts.map(cartProduct => {\n      return (\n        <Item\n          key={cartProduct.id}\n          id={cartProduct.id}\n          name={cartProduct.name}\n          units={cartProduct.units}\n          price={cartProduct.price}\n          incrementCartProduct={props.incrementCartProduct}\n          decrementCartProduct={props.decrementCartProduct}\n          deleteCartProduct={props.deleteCartProduct}\n        />\n      );\n    });\n  };\n\n  const renderTotalPrice = () => {\n    return props.cartProducts.reduce((acc, cartProduct) => {\n      return acc + cartProduct.units * cartProduct.price;\n    }, 0);\n  };\n\n  return (\n    <div>\n      <Title title=\"Cesta de la compra\" />\n      <table className=\"table\">\n        <Header />\n        <tbody>{renderCartProducts()}</tbody>\n        <Total total={renderTotalPrice()} />\n      </table>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, { useState } from 'react';\nimport Title from '../components/Title';\n\nconst Login = props => {\n  // state\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // events\n  const handleEmail = ev => {\n    setEmail(ev.target.value);\n  };\n\n  const handlePassword = ev => {\n    setPassword(ev.target.value);\n  };\n\n  const handleFormSubmit = ev => {\n    ev.stopPropagation();\n    props.handleLogin({\n      email: email,\n      password: password\n    });\n  };\n\n  return (\n    <form className=\"mb-1\" onSubmit={handleFormSubmit}>\n      <Title title=\"Bienvenida a nuestra tienda de camisetas\" />\n      <Title title=\"Identifícate por favor\" />\n      <label className=\"form__label display-block\" htmlFor=\"email\">\n        Escribe tu email:\n      </label>\n      <input\n        className=\"form__input-text m-0\"\n        type=\"text\"\n        id=\"email\"\n        value={email}\n        onChange={handleEmail}\n      />\n      <label className=\"form__label display-block\" htmlFor=\"password\">\n        Escribe tu contraseña:\n      </label>\n      <input\n        className=\"form__input-text m-0\"\n        type=\"password\"\n        id=\"password\"\n        value={password}\n        onChange={handlePassword}\n      />\n      <button className=\"card__btn m-0 mt-1\">Entrar</button>\n      {props.loginError}\n    </form>\n  );\n};\n\nexport default Login;\n","import React from 'react';\n\nconst Profile = props => {\n  const handleCloseSession = ev => {\n    props.handleCloseSession();\n  };\n\n  return (\n    <div>\n      <button className=\"card__btn m-0 mb-1\" onClick={handleCloseSession}>\n        Cerrar sesión\n      </button>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Product = props => {\n  const handleAddToCardClick = () => {\n    props.incrementCartProduct(props.id);\n  };\n\n  return (\n    <article className=\"card\">\n      <img src={props.imageUrl} className=\"card__img\" alt={`Producto: ${props.name}`} />\n      <h3 className=\"card__title\">{props.name}</h3>\n      <p className=\"card__description\">{props.price} €</p>\n\n      <button\n        className=\"card__btn\"\n        title=\"Añadir este producto a la cesta\"\n        onClick={handleAddToCardClick}\n      >\n        Añadir a la cesta\n      </button>\n\n      <Link\n        to={`/product/${props.id}`}\n        className=\"card__btn\"\n        title=\"Ver el detalle de este producto\"\n      >\n        Ver detalle del producto\n      </Link>\n    </article>\n  );\n};\n\nexport default Product;\n","import React from 'react';\n\nconst Filters = props => {\n  // events\n  const handleFilter = ev => {\n    props.handleFilter(ev.target.value);\n  };\n\n  const handleFormSubmit = ev => {\n    ev.preventDefault();\n  };\n\n  // render\n  return (\n    <form className=\"mb-1\" onSubmit={handleFormSubmit}>\n      <label className=\"form__label\" htmlFor=\"name\">\n        Filtrar por nombre:\n      </label>\n      <input\n        className=\"form__input-text\"\n        type=\"text\"\n        id=\"name\"\n        value={props.filterText}\n        onChange={handleFilter}\n      />\n    </form>\n  );\n};\n\nexport default Filters;\n","import React from 'react';\nimport Item from './Item';\nimport Filters from './Filters';\nimport Title from '../components/Title';\n\nconst Products = props => {\n  const productsItems = props.shopProducts.map(product => {\n    return (\n      <Item\n        key={product.id}\n        id={product.id}\n        imageUrl={product.imageUrl}\n        name={product.name}\n        price={product.price}\n        incrementCartProduct={props.incrementCartProduct}\n      />\n    );\n  });\n\n  return (\n    <div>\n      <Title title=\"Listado de camisetas\" />\n      <Filters filterText={props.filterText} handleFilter={props.handleFilter} />\n      <section className=\"cards\">{productsItems}</section>\n    </div>\n  );\n};\n\nexport default Products;\n","import React from 'react';\nimport Title from '../components/Title';\n\nconst Detail = props => {\n  return (\n    <>\n      <Title title={`Detalle del producto: ${props.name}`} />\n      <article className=\"card\">\n        <img src={props.imageUrl} className=\"card__img\" alt={`Producto: ${props.name}`} />\n        <h3 className=\"card__title\">{props.name}</h3>\n        <p className=\"card__description\">\n          Precio: <span className=\"text--bold\">{props.price} €</span>\n        </p>\n        <p className=\"card__description\">\n          Descripción: <span className=\"text--bold\">{props.description}</span>\n        </p>\n        <p className=\"card__description\">\n          Tallas: <span className=\"text--bold\">{props.sizes.join(' - ')}</span>\n        </p>\n      </article>\n    </>\n  );\n};\n\nexport default Detail;\n","const apiBaseUrl = '//localhost:3000/api';\r\n\r\n// login\r\n\r\nconst sendLogin = userData => {\r\n  return fetch(`${apiBaseUrl}/login`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n    headers: { 'Content-Type': 'application/json' }\r\n  }).then(response => response.json());\r\n};\r\n\r\n// products\r\n\r\nconst getProducts = () => {\r\n  return fetch(`${apiBaseUrl}/products`)\r\n    .then(response => response.json())\r\n    .then(data => data.products.items);\r\n};\r\n\r\n// cart\r\n\r\nconst getCart = userId => {\r\n  return fetch(`${apiBaseUrl}/cart?userId=${userId}`);\r\n};\r\n\r\nconst sendCart = (userId, cartProducts) => {\r\n  const cartItems = cartProducts.map(product => {\r\n    return {\r\n      id: product.id,\r\n      units: product.units\r\n    };\r\n  });\r\n\r\n  return fetch(`${apiBaseUrl}/cart?userId=${userId}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(cartItems),\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  getProducts: getProducts,\r\n  sendLogin: sendLogin,\r\n  getCart: getCart,\r\n  sendCart: sendCart\r\n};\r\n\r\nexport default exportObj;\r\n","// shop products\r\n\r\nconst getProduct = (shopProducts, shopProductId) => {\r\n  return shopProducts.find(product => product.id === shopProductId);\r\n};\r\n\r\n// cart products\r\n\r\nconst incrementCartProduct = (shopProducts, cartProducts, cartProductId) => {\r\n  const cartProductFound = cartProducts.find(product => product.id === cartProductId);\r\n  if (cartProductFound) {\r\n    cartProductFound.units += 1;\r\n  } else {\r\n    const clickedProduct = shopProducts.find(product => product.id === cartProductId);\r\n    clickedProduct.units = 1;\r\n    cartProducts.push(clickedProduct);\r\n  }\r\n  return cartProducts;\r\n};\r\n\r\nconst decrementCartProduct = (cartProducts, cartProductId) => {\r\n  const cartProductFound = cartProducts.find(product => product.id === cartProductId);\r\n  if (cartProductFound.units > 1) {\r\n    cartProductFound.units -= 1;\r\n  } else {\r\n    const cartProductIndex = cartProducts.findIndex(product => product.id === cartProductId);\r\n    cartProducts.splice(cartProductIndex, 1);\r\n  }\r\n  return cartProducts;\r\n};\r\n\r\nlet deleteCartProduct;\r\ndeleteCartProduct = (cartProducts, cartProductId) => {\r\n  const cartProductIndex = cartProducts.findIndex(product => product.id === cartProductId);\r\n  cartProducts.splice(cartProductIndex, 1);\r\n  return cartProducts;\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  decrementCartProduct: decrementCartProduct,\r\n  deleteCartProduct: deleteCartProduct,\r\n  getProduct: getProduct,\r\n  incrementCartProduct: incrementCartProduct\r\n};\r\n\r\nexport default exportObj;\r\n","const get = key => {\r\n  const data = JSON.parse(localStorage.getItem(key));\r\n  return data !== null ? data : {};\r\n};\r\n\r\nconst set = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nconst remove = key => {\r\n  localStorage.removeItem(key);\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  get: get,\r\n  remove: remove,\r\n  set: set\r\n};\r\n\r\nexport default exportObj;\r\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Cart from './cart/List';\nimport Login from './user/Login';\nimport Profile from './user/Profile';\nimport Products from './products/List';\nimport ProductDetail from './products/Detail';\nimport api from '../services/api';\nimport shop from '../services/shop';\nimport localStorage from '../services/localStorage';\n\nconst App = () => {\n  // state\n  const localStorageUser = localStorage.get('user');\n  const [userId, setUserId] = useState(localStorageUser.userId || '');\n  const [loginError, setLoginError] = useState('');\n  const [shopProducts, setShopProducts] = useState([]);\n  const [cartProducts, setCartProducts] = useState([]);\n  const [filterText, setFilterText] = useState('');\n\n  // effects\n  useEffect(() => {\n    api.getProducts().then(data => {\n      setShopProducts(data);\n    });\n  }, []);\n\n  useEffect(() => {\n    api.sendCart(userId, cartProducts);\n  }, [userId, cartProducts]);\n\n  // events\n  const handleLogin = data => {\n    api.sendLogin(data).then(data => {\n      console.log(data);\n\n      if (data.error) {\n        setLoginError(data.message);\n      } else {\n        setLoginError('');\n        setUserId(data.userId);\n        localStorage.set('user', data);\n      }\n    });\n  };\n\n  const handleFilter = filterText => {\n    setFilterText(filterText);\n  };\n\n  const incrementCartProduct = clickedProductId => {\n    const newCartProducts = shop.incrementCartProduct(shopProducts, cartProducts, clickedProductId);\n    setCartProducts([...newCartProducts]);\n  };\n\n  const decrementCartProduct = clickedProductId => {\n    const newCartProducts = shop.decrementCartProduct(cartProducts, clickedProductId);\n    setCartProducts([...newCartProducts]);\n  };\n\n  const deleteCartProduct = clickedProductId => {\n    shop.deleteCartProduct(cartProducts, clickedProductId);\n    setCartProducts([...cartProducts]);\n  };\n\n  // render\n\n  const renderLogin = () => {\n    return <Login loginError={loginError} handleLogin={handleLogin} />;\n  };\n\n  const renderShop = () => {\n    return (\n      <Switch>\n        <Route exact path=\"/\">\n          <Profile />\n          <div className=\"col2\">\n            <Products\n              shopProducts={filterProducts()}\n              filterText={filterText}\n              handleFilter={handleFilter}\n              incrementCartProduct={incrementCartProduct}\n            />\n            <Cart\n              cartProducts={cartProducts}\n              incrementCartProduct={incrementCartProduct}\n              decrementCartProduct={decrementCartProduct}\n              deleteCartProduct={deleteCartProduct}\n            />\n          </div>\n        </Route>\n        <Route path=\"/product/:productId\" component={renderDetail} />\n      </Switch>\n    );\n  };\n\n  const filterProducts = () => {\n    return shopProducts.filter(product =>\n      product.name.toLowerCase().includes(filterText.toLowerCase())\n    );\n  };\n\n  const renderDetail = props => {\n    const foundProduct = shop.getProduct(shopProducts, props.match.params.productId);\n    if (foundProduct) {\n      return (\n        <ProductDetail\n          name={foundProduct.name}\n          price={foundProduct.price}\n          description={foundProduct.description}\n          imageUrl={foundProduct.imageUrl}\n          sizes={foundProduct.sizes}\n        />\n      );\n    } else {\n      return <p>Producto no encontrado</p>;\n    }\n  };\n\n  return <>{userId === '' ? renderLogin() : renderShop()}</>;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './stylesheets/index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}