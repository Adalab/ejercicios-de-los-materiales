{"version":3,"sources":["components/cart/Header.js","components/components/Button.js","components/cart/Item.js","components/cart/Total.js","components/components/Title.js","components/cart/List.js","components/user/Login.js","components/user/Profile.js","components/products/Item.js","components/products/Filters.js","components/products/List.js","components/products/Detail.js","services/api.js","services/shop.js","services/localStorage.js","components/App.js","index.js"],"names":["Header","className","Button","props","cssClass","title","onClick","handleClick","text","Item","name","price","decrementCartProduct","id","units","incrementCartProduct","deleteCartProduct","Cart","colSpan","total","Title","cartProducts","map","cartProduct","Total","reduce","acc","Login","useState","email","setEmail","password","setPassword","onSubmit","ev","stopPropagation","handleLogin","htmlFor","type","value","onChange","target","Profile","handleCloseSession","Product","src","imageUrl","alt","to","Filters","preventDefault","filterText","handleFilter","Products","productsItems","shopProducts","product","Detail","description","sizes","join","apiBaseUrl","fetch","then","response","json","data","products","items","userData","method","body","JSON","stringify","headers","userId","cartItems","cartProductId","cartProductFound","find","cartProductIndex","findIndex","splice","shopProductId","clickedProduct","push","key","parse","localStorage","getItem","setItem","App","localStorageUser","setUserId","setShopProducts","setCartProducts","setFilterText","useEffect","api","clickedProductId","newCartProducts","shop","filterProducts","filter","toLowerCase","includes","renderDetail","foundProduct","match","params","productId","exact","path","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.41f4c164.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => {\n  return (\n    <thead>\n      <tr className=\"text--bold\">\n        <td>Producto</td>\n        <td>Precio</td>\n        <td>Unidades</td>\n        <td className=\"text-align-right\">Total</td>\n      </tr>\n    </thead>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst Button = props => {\n  const handleClick = () => {\n    props.handleClick();\n  };\n  return (\n    <button className={'card__btn ' + props.cssClass} title={props.title} onClick={handleClick}>\n      {props.text || ''}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Button from '../components/Button';\nimport '../../stylesheets/CartItem.scss';\n\nconst Item = props => {\n  // events\n  const handleIncrementCartProduct = () => {\n    props.incrementCartProduct(props.id);\n  };\n\n  const handleDecrementCartProduct = () => {\n    props.decrementCartProduct(props.id);\n  };\n\n  const handleDeleteCartProduct = () => {\n    props.deleteCartProduct(props.id);\n  };\n\n  // render\n  return (\n    <tr>\n      <td>{props.name}</td>\n      <td>{props.price} €</td>\n      <td>\n        <Button\n          text=\"-\"\n          title=\"Quitar una unidad más de este producto\"\n          handleClick={handleDecrementCartProduct}\n        />\n        {props.units}\n        <Button\n          text=\"+\"\n          title=\"Añadir una unidad más de este producto\"\n          handleClick={handleIncrementCartProduct}\n        />\n        <Button\n          cssClass=\"fas fa-trash\"\n          title=\"Eliminar este producto de la cesta\"\n          handleClick={handleDeleteCartProduct}\n        />\n      </td>\n      <td className=\"text-align-right\">{props.price * props.units} €</td>\n    </tr>\n  );\n};\n\nexport default Item;\n","import React from 'react';\n\nconst Cart = props => {\n  return (\n    <tfoot>\n      <tr className=\"text--bold\">\n        <td>Total</td>\n        <td colSpan=\"3\" className=\"text-align-right\">\n          {props.total} €\n        </td>\n      </tr>\n    </tfoot>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\n\nconst Title = props => {\n  return <h2 className=\"title--medium\">{props.title}</h2>;\n};\n\nexport default Title;\n","import React from 'react';\nimport Header from './Header';\nimport Item from './Item';\nimport Total from './Total';\nimport Title from '../components/Title';\n\nconst Cart = props => {\n  const renderCartProducts = () => {\n    return props.cartProducts.map(cartProduct => {\n      return (\n        <Item\n          key={cartProduct.id}\n          id={cartProduct.id}\n          name={cartProduct.name}\n          units={cartProduct.units}\n          price={cartProduct.price}\n          incrementCartProduct={props.incrementCartProduct}\n          decrementCartProduct={props.decrementCartProduct}\n          deleteCartProduct={props.deleteCartProduct}\n        />\n      );\n    });\n  };\n\n  const renderTotalPrice = () => {\n    return props.cartProducts.reduce((acc, cartProduct) => {\n      return acc + cartProduct.units * cartProduct.price;\n    }, 0);\n  };\n\n  return (\n    <div>\n      <Title title=\"Cesta de la compra\" />\n      <table className=\"table\">\n        <Header />\n        <tbody>{renderCartProducts()}</tbody>\n        <Total total={renderTotalPrice()} />\n      </table>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, { useState } from 'react';\nimport Title from '../components/Title';\n\nconst Login = props => {\n  // state\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // events\n  const handleEmail = ev => {\n    setEmail(ev.target.value);\n  };\n\n  const handlePassword = ev => {\n    setPassword(ev.target.value);\n  };\n\n  const handleFormSubmit = ev => {\n    ev.stopPropagation();\n    props.handleLogin({\n      email: email,\n      password: password\n    });\n  };\n\n  return (\n    <form className=\"mb-1\" onSubmit={handleFormSubmit}>\n      <Title title=\"Bienvenida a nuestra tienda de camisetas\" />\n      <Title title=\"Identifícate por favor\" />\n      <label className=\"form__label display-block\" htmlFor=\"email\">\n        Escribe tu email:\n      </label>\n      <input\n        className=\"form__input-text m-0\"\n        type=\"text\"\n        id=\"email\"\n        value={email}\n        onChange={handleEmail}\n      />\n      <label className=\"form__label display-block\" htmlFor=\"password\">\n        Escribe tu contraseña:\n      </label>\n      <input\n        className=\"form__input-text m-0\"\n        type=\"password\"\n        id=\"password\"\n        value={password}\n        onChange={handlePassword}\n      />\n      <button className=\"card__btn m-0 mt-1\">Entrar</button>\n    </form>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\n\nconst Profile = props => {\n  const handleCloseSession = ev => {\n    props.handleCloseSession();\n  };\n\n  return (\n    <div>\n      <button className=\"card__btn m-0 mb-1\" onClick={handleCloseSession}>\n        Cerrar sesión\n      </button>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Product = props => {\n  const handleAddToCardClick = () => {\n    props.incrementCartProduct(props.id);\n  };\n\n  return (\n    <article className=\"card\">\n      <img src={props.imageUrl} className=\"card__img\" alt={`Producto: ${props.name}`} />\n      <h3 className=\"card__title\">{props.name}</h3>\n      <p className=\"card__description\">{props.price} €</p>\n\n      <button\n        className=\"card__btn\"\n        title=\"Añadir este producto a la cesta\"\n        onClick={handleAddToCardClick}\n      >\n        Añadir a la cesta\n      </button>\n\n      <Link\n        to={`/product/${props.id}`}\n        className=\"card__btn\"\n        title=\"Ver el detalle de este producto\"\n      >\n        Ver detalle del producto\n      </Link>\n    </article>\n  );\n};\n\nexport default Product;\n","import React from 'react';\n\nconst Filters = props => {\n  // events\n  const handleFilter = ev => {\n    props.handleFilter(ev.target.value);\n  };\n\n  const handleFormSubmit = ev => {\n    ev.preventDefault();\n  };\n\n  // render\n  return (\n    <form className=\"mb-1\" onSubmit={handleFormSubmit}>\n      <label className=\"form__label\" htmlFor=\"name\">\n        Filtrar por nombre:\n      </label>\n      <input\n        className=\"form__input-text\"\n        type=\"text\"\n        id=\"name\"\n        value={props.filterText}\n        onChange={handleFilter}\n      />\n    </form>\n  );\n};\n\nexport default Filters;\n","import React from 'react';\nimport Item from './Item';\nimport Filters from './Filters';\nimport Title from '../components/Title';\n\nconst Products = props => {\n  const productsItems = props.shopProducts.map(product => {\n    return (\n      <Item\n        key={product.id}\n        id={product.id}\n        imageUrl={product.imageUrl}\n        name={product.name}\n        price={product.price}\n        incrementCartProduct={props.incrementCartProduct}\n      />\n    );\n  });\n\n  return (\n    <div>\n      <Title title=\"Listado de camisetas\" />\n      <Filters filterText={props.filterText} handleFilter={props.handleFilter} />\n      <section className=\"cards\">{productsItems}</section>\n    </div>\n  );\n};\n\nexport default Products;\n","import React from 'react';\nimport Title from '../components/Title';\n\nconst Detail = props => {\n  return (\n    <>\n      <Title title={`Detalle del producto: ${props.name}`} />\n      <article className=\"card\">\n        <img src={props.imageUrl} className=\"card__img\" alt={`Producto: ${props.name}`} />\n        <h3 className=\"card__title\">{props.name}</h3>\n        <p className=\"card__description\">\n          Precio: <span className=\"text--bold\">{props.price} €</span>\n        </p>\n        <p className=\"card__description\">\n          Descripción: <span className=\"text--bold\">{props.description}</span>\n        </p>\n        <p className=\"card__description\">\n          Tallas: <span className=\"text--bold\">{props.sizes.join(' - ')}</span>\n        </p>\n      </article>\n    </>\n  );\n};\n\nexport default Detail;\n","const apiBaseUrl = '//localhost:3000/api';\r\n\r\nconst sendLogin = userData => {\r\n  return fetch(`${apiBaseUrl}/login`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n    headers: { 'Content-Type': 'application/json' }\r\n  }).then(response => response.json());\r\n};\r\n\r\nconst getProducts = () => {\r\n  return fetch(`${apiBaseUrl}/products`)\r\n    .then(response => response.json())\r\n    .then(data => data.products.items);\r\n};\r\n\r\nconst sendCart = (userId, cartProducts) => {\r\n  const cartItems = cartProducts.map(product => {\r\n    return {\r\n      id: product.id,\r\n      units: product.units\r\n    };\r\n  });\r\n\r\n  return fetch(`${apiBaseUrl}/cart?userId=${userId}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(cartItems),\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n};\r\n\r\nexport default {\r\n  getProducts: getProducts,\r\n  sendLogin: sendLogin,\r\n  sendCart: sendCart\r\n};\r\n","// shop products\r\n\r\nconst getProduct = (shopProducts, shopProductId) => {\r\n  return shopProducts.find(product => product.id === shopProductId);\r\n};\r\n\r\n// cart products\r\n\r\nconst incrementCartProduct = (shopProducts, cartProducts, cartProductId) => {\r\n  const cartProductFound = cartProducts.find(product => product.id === cartProductId);\r\n  if (cartProductFound) {\r\n    cartProductFound.units += 1;\r\n  } else {\r\n    const clickedProduct = shopProducts.find(product => product.id === cartProductId);\r\n    clickedProduct.units = 1;\r\n    cartProducts.push(clickedProduct);\r\n  }\r\n  return cartProducts;\r\n};\r\n\r\nconst decrementCartProduct = (cartProducts, cartProductId) => {\r\n  const cartProductFound = cartProducts.find(product => product.id === cartProductId);\r\n  if (cartProductFound.units > 1) {\r\n    cartProductFound.units -= 1;\r\n  } else {\r\n    const cartProductIndex = cartProducts.findIndex(product => product.id === cartProductId);\r\n    cartProducts.splice(cartProductIndex, 1);\r\n  }\r\n  return cartProducts;\r\n};\r\n\r\nconst deleteCartProduct = (cartProducts, cartProductId) => {\r\n  const cartProductIndex = cartProducts.findIndex(product => product.id === cartProductId);\r\n  cartProducts.splice(cartProductIndex, 1);\r\n  return cartProducts;\r\n};\r\n\r\n// export\r\n\r\nexport default {\r\n  decrementCartProduct: decrementCartProduct,\r\n  deleteCartProduct: deleteCartProduct,\r\n  getProduct: getProduct,\r\n  incrementCartProduct: incrementCartProduct\r\n};\r\n","const get = key => {\r\n  const data = JSON.parse(localStorage.getItem(key));\r\n  return data !== null ? data : {};\r\n};\r\n\r\nconst set = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nconst remove = key => {\r\n  localStorage.removeItem(key);\r\n};\r\n\r\nexport default {\r\n  get: get,\r\n  remove: remove,\r\n  set: set\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Cart from './cart/List';\nimport Login from './user/Login';\nimport Profile from './user/Profile';\nimport Products from './products/List';\nimport ProductDetail from './products/Detail';\nimport api from '../services/api';\nimport shop from '../services/shop';\nimport localStorage from '../services/localStorage';\n\nconst App = () => {\n  // state\n  const localStorageUser = localStorage.get('user');\n  const [userId, setUserId] = useState(localStorageUser.userId || '');\n  const [shopProducts, setShopProducts] = useState([]);\n  const [cartProducts, setCartProducts] = useState([]);\n  const [filterText, setFilterText] = useState('');\n\n  // effects\n  useEffect(() => {\n    api.getProducts().then(data => {\n      setShopProducts(data);\n    });\n  }, []);\n\n  useEffect(() => {\n    api.sendCart(userId, cartProducts);\n  }, [userId, cartProducts]);\n\n  // events\n  const handleLogin = data => {\n    api.sendLogin(data).then(data => {\n      setUserId(data.userId);\n      localStorage.set('user', data);\n    });\n  };\n\n  const handleFilter = filterText => {\n    setFilterText(filterText);\n  };\n\n  const incrementCartProduct = clickedProductId => {\n    const newCartProducts = shop.incrementCartProduct(shopProducts, cartProducts, clickedProductId);\n    setCartProducts([...newCartProducts]);\n  };\n\n  const decrementCartProduct = clickedProductId => {\n    const newCartProducts = shop.decrementCartProduct(cartProducts, clickedProductId);\n    setCartProducts([...newCartProducts]);\n  };\n\n  const deleteCartProduct = clickedProductId => {\n    shop.deleteCartProduct(cartProducts, clickedProductId);\n    setCartProducts([...cartProducts]);\n  };\n\n  // render\n\n  const renderLogin = () => {\n    return <Login handleLogin={handleLogin} />;\n  };\n\n  const renderShop = () => {\n    return (\n      <Switch>\n        <Route exact path=\"/\">\n          <Profile />\n          <div className=\"col2\">\n            <Products\n              shopProducts={filterProducts()}\n              filterText={filterText}\n              handleFilter={handleFilter}\n              incrementCartProduct={incrementCartProduct}\n            />\n            <Cart\n              cartProducts={cartProducts}\n              incrementCartProduct={incrementCartProduct}\n              decrementCartProduct={decrementCartProduct}\n              deleteCartProduct={deleteCartProduct}\n            />\n          </div>\n        </Route>\n        <Route path=\"/product/:productId\" component={renderDetail} />\n      </Switch>\n    );\n  };\n\n  const filterProducts = () => {\n    return shopProducts.filter(product =>\n      product.name.toLowerCase().includes(filterText.toLowerCase())\n    );\n  };\n\n  const renderDetail = props => {\n    const foundProduct = shop.getProduct(shopProducts, props.match.params.productId);\n    if (foundProduct) {\n      return (\n        <ProductDetail\n          name={foundProduct.name}\n          price={foundProduct.price}\n          description={foundProduct.description}\n          imageUrl={foundProduct.imageUrl}\n          sizes={foundProduct.sizes}\n        />\n      );\n    } else {\n      return <p>Producto no encontrado</p>;\n    }\n  };\n\n  return <>{userId === '' ? renderLogin() : renderShop()}</>;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}