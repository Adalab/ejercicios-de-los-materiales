{"version":3,"sources":["components/cart/Header.js","components/components/Button.js","components/cart/Item.js","components/cart/Total.js","components/components/Title.js","components/cart/List.js","components/user/Login.js","components/user/Profile.js","components/products/Item.js","components/products/Filters.js","components/products/List.js","components/products/Detail.js","services/api.js","services/shop.js","services/localStorage.js","components/App.js","index.js"],"names":["Header","className","Button","props","cssClass","title","onClick","handleClick","text","Item","name","price","decrementCartProduct","id","units","incrementCartProduct","deleteCartProduct","Cart","colSpan","total","Title","cartProducts","map","cartProduct","Total","reduce","acc","Login","useState","email","setEmail","password","setPassword","onSubmit","ev","stopPropagation","handleLogin","htmlFor","type","value","onChange","target","loginError","Profile","userData","handleCloseSession","Product","src","imageUrl","alt","to","Filters","preventDefault","filterText","handleFilter","Products","productsItems","shopProducts","product","Detail","description","sizes","apiBaseUrl","exportObj","getProducts","fetch","then","response","json","data","products","items","getUser","userId","user","sendLogin","method","body","JSON","stringify","headers","getCart","sendCart","cartItems","cartProductId","cartProductFound","find","cartProductIndex","findIndex","splice","getProduct","shopProductId","clickedProduct","push","get","key","parse","localStorage","getItem","remove","removeItem","set","setItem","App","localStorageUser","setUserId","setUserData","setLoginError","setShopProducts","setCartProducts","setFilterText","useEffect","api","error","message","clickedProductId","newCartProducts","shop","updateCart","window","location","reload","filterProducts","filter","toLowerCase","includes","renderDetail","foundProduct","match","params","productId","exact","path","shopProduct","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.07349c91.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => {\n  return (\n    <thead>\n      <tr className=\"text--bold\">\n        <td>Producto</td>\n        <td>Precio</td>\n        <td>Unidades</td>\n        <td className=\"text-align-right\">Total</td>\n      </tr>\n    </thead>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst Button = props => {\n  const handleClick = () => {\n    props.handleClick();\n  };\n  return (\n    <button className={'card__btn ' + props.cssClass} title={props.title} onClick={handleClick}>\n      {props.text || ''}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Button from '../components/Button';\n\nconst Item = props => {\n  // events\n  const handleIncrementCartProduct = () => {\n    props.incrementCartProduct(props.id);\n  };\n\n  const handleDecrementCartProduct = () => {\n    props.decrementCartProduct(props.id);\n  };\n\n  const handleDeleteCartProduct = () => {\n    props.deleteCartProduct(props.id);\n  };\n\n  // render\n  return (\n    <tr>\n      <td>{props.name}</td>\n      <td>{props.price} €</td>\n      <td>\n        <Button\n          text=\"-\"\n          title=\"Quitar una unidad más de este producto\"\n          handleClick={handleDecrementCartProduct}\n        />\n        {props.units}\n        <Button\n          text=\"+\"\n          title=\"Añadir una unidad más de este producto\"\n          handleClick={handleIncrementCartProduct}\n        />\n        <Button\n          cssClass=\"fas fa-trash\"\n          title=\"Eliminar este producto de la cesta\"\n          handleClick={handleDeleteCartProduct}\n        />\n      </td>\n      <td className=\"text-align-right\">{props.price * props.units} €</td>\n    </tr>\n  );\n};\n\nexport default Item;\n","import React from 'react';\n\nconst Cart = props => {\n  return (\n    <tfoot>\n      <tr className=\"text--bold\">\n        <td>Total</td>\n        <td colSpan=\"3\" className=\"text-align-right\">\n          {props.total} €\n        </td>\n      </tr>\n    </tfoot>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\n\nconst Title = props => {\n  return <h2 className=\"title--medium\">{props.title}</h2>;\n};\n\nexport default Title;\n","import React from 'react';\nimport Header from './Header';\nimport Item from './Item';\nimport Total from './Total';\nimport Title from '../components/Title';\n\nconst Cart = props => {\n  const renderCartProducts = () => {\n    return props.cartProducts.map(cartProduct => {\n      return (\n        <Item\n          key={cartProduct.id}\n          id={cartProduct.id}\n          name={cartProduct.name}\n          units={cartProduct.units}\n          price={cartProduct.price}\n          incrementCartProduct={props.incrementCartProduct}\n          decrementCartProduct={props.decrementCartProduct}\n          deleteCartProduct={props.deleteCartProduct}\n        />\n      );\n    });\n  };\n\n  const renderTotalPrice = () => {\n    return props.cartProducts.reduce((acc, cartProduct) => {\n      return acc + cartProduct.units * cartProduct.price;\n    }, 0);\n  };\n\n  return (\n    <div>\n      <Title title=\"Cesta de la compra\" />\n      <table className=\"table\">\n        <Header />\n        <tbody>{renderCartProducts()}</tbody>\n        <Total total={renderTotalPrice()} />\n      </table>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, { useState } from 'react';\nimport Title from '../components/Title';\n\nconst Login = props => {\n  // state\n  const [email, setEmail] = useState('miguel@adalab.es');\n  const [password, setPassword] = useState('12345678');\n\n  // events\n  const handleEmail = ev => {\n    setEmail(ev.target.value);\n  };\n\n  const handlePassword = ev => {\n    setPassword(ev.target.value);\n  };\n\n  const handleFormSubmit = ev => {\n    ev.stopPropagation();\n    props.handleLogin({\n      email: email,\n      password: password\n    });\n  };\n\n  return (\n    <form className=\"mb-1\" onSubmit={handleFormSubmit}>\n      <Title title=\"Bienvenida a nuestra tienda de camisetas\" />\n      <Title title=\"Identifícate por favor\" />\n      <label className=\"form__label display-block\" htmlFor=\"email\">\n        Escribe tu email:\n      </label>\n      <input\n        className=\"form__input-text m-0\"\n        type=\"text\"\n        id=\"email\"\n        value={email}\n        onChange={handleEmail}\n      />\n      <label className=\"form__label display-block\" htmlFor=\"password\">\n        Escribe tu contraseña:\n      </label>\n      <input\n        className=\"form__input-text m-0\"\n        type=\"password\"\n        id=\"password\"\n        value={password}\n        onChange={handlePassword}\n      />\n      <button className=\"card__btn m-0 mt-1\">Entrar</button>\n      {props.loginError}\n    </form>\n  );\n};\n\nexport default Login;\n","import React from 'react';\n\nconst Profile = props => {\n  const handleCloseSession = ev => {\n    props.handleCloseSession();\n  };\n\n  return (\n    <div className=\"profile-wrapper\">\n      <p className=\"greeting\">Hola {props.userData.email}</p>\n      <button className=\"card__btn m-0\" onClick={handleCloseSession}>\n        Cerrar sesión\n      </button>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Product = props => {\n  const handleAddToCardClick = () => {\n    props.incrementCartProduct(props.id);\n  };\n\n  return (\n    <article className=\"card\">\n      <img src={props.imageUrl} className=\"card__img\" alt={`Producto: ${props.name}`} />\n      <h3 className=\"card__title\">{props.name}</h3>\n      <p className=\"card__description\">{props.price} €</p>\n\n      <button\n        className=\"card__btn\"\n        title=\"Añadir este producto a la cesta\"\n        onClick={handleAddToCardClick}\n      >\n        Añadir a la cesta\n      </button>\n\n      <Link\n        to={`/product/${props.id}`}\n        className=\"card__btn\"\n        title=\"Ver el detalle de este producto\"\n      >\n        Ver detalle del producto\n      </Link>\n    </article>\n  );\n};\n\nexport default Product;\n","import React from 'react';\n\nconst Filters = props => {\n  // events\n  const handleFilter = ev => {\n    props.handleFilter(ev.target.value);\n  };\n\n  const handleFormSubmit = ev => {\n    ev.preventDefault();\n  };\n\n  // render\n  return (\n    <form className=\"mb-1\" onSubmit={handleFormSubmit}>\n      <label className=\"form__label\" htmlFor=\"name\">\n        Filtrar por nombre:\n      </label>\n      <input\n        className=\"form__input-text\"\n        type=\"text\"\n        id=\"name\"\n        value={props.filterText}\n        onChange={handleFilter}\n      />\n    </form>\n  );\n};\n\nexport default Filters;\n","import React from 'react';\nimport Item from './Item';\nimport Filters from './Filters';\nimport Title from '../components/Title';\n\nconst Products = props => {\n  const productsItems = props.shopProducts.map(product => {\n    return (\n      <Item\n        key={product.id}\n        id={product.id}\n        imageUrl={product.imageUrl}\n        name={product.name}\n        price={product.price}\n        incrementCartProduct={props.incrementCartProduct}\n      />\n    );\n  });\n\n  return (\n    <div>\n      <Title title=\"Listado de camisetas\" />\n      <Filters filterText={props.filterText} handleFilter={props.handleFilter} />\n      <section className=\"cards\">{productsItems}</section>\n    </div>\n  );\n};\n\nexport default Products;\n","import React from 'react';\nimport Title from '../components/Title';\n\nconst Detail = props => {\n  return (\n    <>\n      <Title title={`Detalle del producto: ${props.name}`} />\n      <article className=\"card\">\n        <img src={props.imageUrl} className=\"card__img\" alt={`Producto: ${props.name}`} />\n        <h3 className=\"card__title\">{props.name}</h3>\n        <p className=\"card__description\">\n          Precio: <span className=\"text--bold\">{props.price} €</span>\n        </p>\n        <p className=\"card__description\">\n          Descripción: <span className=\"text--bold\">{props.description}</span>\n        </p>\n        <p className=\"card__description\">\n          Tallas: <span className=\"text--bold\">{props.sizes}</span>\n        </p>\n      </article>\n    </>\n  );\n};\n\nexport default Detail;\n","// enviroment variables: more info at https://create-react-app.dev/docs/adding-custom-environment-variables/\r\nconst isDevEnviroment = process.env.NODE_ENV === 'development';\r\nconst apiBaseUrl = isDevEnviroment ? '//localhost:3000/api' : './api';\r\n\r\n// login / logout\r\n\r\nconst getUser = userId => {\r\n  return fetch(`${apiBaseUrl}/user?userId=${userId}`)\r\n    .then(response => response.json())\r\n    .then(data => data.user);\r\n};\r\n\r\nconst sendLogin = userData => {\r\n  return fetch(`${apiBaseUrl}/login`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n    headers: { 'Content-Type': 'application/json' }\r\n  }).then(response => response.json());\r\n};\r\n\r\n// products\r\n\r\nconst getProducts = () => {\r\n  return fetch(`${apiBaseUrl}/products`)\r\n    .then(response => response.json())\r\n    .then(data => data.products.items);\r\n};\r\n\r\n// cart\r\n\r\nconst getCart = userId => {\r\n  return fetch(`${apiBaseUrl}/cart?userId=${userId}`)\r\n    .then(response => response.json())\r\n    .then(data => data.products);\r\n};\r\n\r\nconst sendCart = (userId, cartProducts) => {\r\n  const cartItems = cartProducts.map(product => {\r\n    return {\r\n      id: product.id,\r\n      units: product.units\r\n    };\r\n  });\r\n\r\n  return fetch(`${apiBaseUrl}/cart?userId=${userId}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(cartItems),\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  getProducts: getProducts,\r\n  getUser: getUser,\r\n  sendLogin: sendLogin,\r\n  getCart: getCart,\r\n  sendCart: sendCart\r\n};\r\n\r\nexport default exportObj;\r\n","// shop products\r\n\r\nconst getProduct = (shopProducts, shopProductId) => {\r\n  return shopProducts.find(product => product.id === shopProductId);\r\n};\r\n\r\n// cart products\r\n\r\nconst incrementCartProduct = (shopProducts, cartProducts, cartProductId) => {\r\n  const cartProductFound = cartProducts.find(product => product.id === cartProductId);\r\n  if (cartProductFound) {\r\n    cartProductFound.units += 1;\r\n  } else {\r\n    const clickedProduct = shopProducts.find(product => product.id === cartProductId);\r\n    clickedProduct.units = 1;\r\n    cartProducts.push(clickedProduct);\r\n  }\r\n  return cartProducts;\r\n};\r\n\r\nconst decrementCartProduct = (cartProducts, cartProductId) => {\r\n  const cartProductFound = cartProducts.find(product => product.id === cartProductId);\r\n  if (cartProductFound.units > 1) {\r\n    cartProductFound.units -= 1;\r\n  } else {\r\n    const cartProductIndex = cartProducts.findIndex(product => product.id === cartProductId);\r\n    cartProducts.splice(cartProductIndex, 1);\r\n  }\r\n  return cartProducts;\r\n};\r\n\r\nlet deleteCartProduct;\r\ndeleteCartProduct = (cartProducts, cartProductId) => {\r\n  const cartProductIndex = cartProducts.findIndex(product => product.id === cartProductId);\r\n  cartProducts.splice(cartProductIndex, 1);\r\n  return cartProducts;\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  decrementCartProduct: decrementCartProduct,\r\n  deleteCartProduct: deleteCartProduct,\r\n  getProduct: getProduct,\r\n  incrementCartProduct: incrementCartProduct\r\n};\r\n\r\nexport default exportObj;\r\n","const get = key => {\r\n  const data = JSON.parse(localStorage.getItem(key));\r\n  return data !== null ? data : {};\r\n};\r\n\r\nconst set = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nconst remove = key => {\r\n  localStorage.removeItem(key);\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  get: get,\r\n  remove: remove,\r\n  set: set\r\n};\r\n\r\nexport default exportObj;\r\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Cart from './cart/List';\nimport Login from './user/Login';\nimport Profile from './user/Profile';\nimport Products from './products/List';\nimport ProductDetail from './products/Detail';\nimport api from '../services/api';\nimport shop from '../services/shop';\nimport localStorage from '../services/localStorage';\n\nconst App = () => {\n  // state\n  const localStorageUser = localStorage.get('user');\n  const [userId, setUserId] = useState(localStorageUser.userId || '');\n  const [userData, setUserData] = useState({});\n  const [loginError, setLoginError] = useState('');\n  const [shopProducts, setShopProducts] = useState([]);\n  const [cartProducts, setCartProducts] = useState([]);\n  const [filterText, setFilterText] = useState('');\n\n  // effects: obtengo los productos al arrancar la página\n  useEffect(() => {\n    api.getProducts().then(data => {\n      setShopProducts(data);\n    });\n  }, []);\n\n  // effects: obtengo el carro de la compra cuando ya tengo el userId\n  useEffect(() => {\n    // si el userId es diferente de vacío pido el carro de la compra al servidor\n    if (userId) {\n      api.getCart(userId).then(data => {\n        setCartProducts(data);\n      });\n    }\n  }, [userId]);\n\n  // effects: obtengo los datos del usuario\n  useEffect(() => {\n    // si el userId es diferente de vacío pido el carro de la compra al servidor\n    if (userId) {\n      api.getUser(userId).then(data => {\n        setUserData(data);\n      });\n    }\n  }, [userId]);\n\n  // events\n\n  const handleLogin = data => {\n    api.sendLogin(data).then(data => {\n      if (data.error) {\n        // guardo el error en el estado para que se pinte\n        setLoginError(data.message);\n      } else {\n        // limpio el error\n        setLoginError('');\n        // guardo el usuario en el estado y en localStorage\n        setUserId(data.userId);\n        localStorage.set('user', data);\n      }\n    });\n  };\n\n  const handleFilter = filterText => {\n    setFilterText(filterText);\n  };\n\n  const incrementCartProduct = clickedProductId => {\n    const newCartProducts = shop.incrementCartProduct(shopProducts, cartProducts, clickedProductId);\n    updateCart(newCartProducts);\n  };\n\n  const decrementCartProduct = clickedProductId => {\n    const newCartProducts = shop.decrementCartProduct(cartProducts, clickedProductId);\n    updateCart(newCartProducts);\n  };\n\n  const deleteCartProduct = clickedProductId => {\n    shop.deleteCartProduct(cartProducts, clickedProductId);\n    updateCart(cartProducts);\n  };\n\n  const updateCart = cartProducts => {\n    setCartProducts([...cartProducts]);\n    api.sendCart(userId, cartProducts);\n  };\n\n  const handleCloseSession = () => {\n    // borro el local storage del navegador\n    localStorage.remove('user');\n    // refresco la página para que la web se reinicie\n    window.location.reload();\n    // no hace falta enviar nada al servidor porque el servidor no sabe\n    // si el usuario está logado o no\n  };\n\n  // render\n\n  const renderLogin = () => {\n    return <Login loginError={loginError} handleLogin={handleLogin} />;\n  };\n\n  const parseCartProducts = () => {\n    const newCartProducts = cartProducts.map(cartProduct => {\n      const cartProductId = cartProduct.id;\n      const shopProduct = shopProducts.find(shopProduct => shopProduct.id === cartProductId);\n      return {\n        id: shopProduct.id,\n        description: shopProduct.description,\n        imageUrl: shopProduct.imageUrl,\n        name: shopProduct.name,\n        price: shopProduct.price,\n        sizes: shopProduct.sizes,\n        units: cartProduct.units\n      };\n    });\n    return newCartProducts;\n  };\n\n  const renderShop = () => {\n    return (\n      <Switch>\n        <Route exact path=\"/\">\n          <Profile userData={userData} handleCloseSession={handleCloseSession} />\n          <div className=\"col2\">\n            <Products\n              shopProducts={filterProducts()}\n              filterText={filterText}\n              handleFilter={handleFilter}\n              incrementCartProduct={incrementCartProduct}\n            />\n            <Cart\n              cartProducts={parseCartProducts()}\n              incrementCartProduct={incrementCartProduct}\n              decrementCartProduct={decrementCartProduct}\n              deleteCartProduct={deleteCartProduct}\n            />\n          </div>\n        </Route>\n        <Route path=\"/product/:productId\" component={renderDetail} />\n      </Switch>\n    );\n  };\n\n  const filterProducts = () => {\n    return shopProducts.filter(product =>\n      product.name.toLowerCase().includes(filterText.toLowerCase())\n    );\n  };\n\n  const renderDetail = props => {\n    const foundProduct = shop.getProduct(shopProducts, props.match.params.productId);\n    if (foundProduct) {\n      return (\n        <ProductDetail\n          name={foundProduct.name}\n          price={foundProduct.price}\n          description={foundProduct.description}\n          imageUrl={foundProduct.imageUrl}\n          sizes={foundProduct.sizes}\n        />\n      );\n    } else {\n      return <p>Producto no encontrado</p>;\n    }\n  };\n\n  return <>{userId === '' ? renderLogin() : renderShop()}</>;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './stylesheets/index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}